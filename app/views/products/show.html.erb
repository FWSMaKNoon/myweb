<div class="container mt-5">
  <h1 class="text-center mb-5">Chi tiết sản phẩm</h1>

  <div class="row">
    <div class="col-md-6">
      <% if @product.featured_image.attached? %>
        <%= image_tag @product.featured_image, class: "img-fluid", style: "width: 100%; height: auto;", alt: @product.name %>
      <% else %>
        <p>Ảnh không hợp lệ</p>
      <% end %>
    </div>  

    <div class="col-md-6">
      <h2><%= @product.name %></h4>
      <p><strong>Giá:</strong> <%= number_to_currency(@product.price) %></p>
      <p><strong>Mô tả:</strong> <%= @product.description %></p>
      <% if user_signed_in? %>
      <p><strong>Số lượng:</strong> <%= @product.stock %></p>
      <%= render "inventory", product: @product %>
      <div class="mt-3 d-flex justify-content-start">
        <%= link_to 'Chỉnh sửa', edit_product_path(@product), class: 'btn btn-warning' %>

        <!-- Xóa sản phẩm -->
        <%= button_to 'Xóa', product_path(@product), method: :delete, 
                      data: { turbo_confirm: 'Bạn có chắc chắn muốn xóa sản phẩm này?' }, 
                      class: 'btn btn-danger ml-1' %>
      </div>

      <% end %>
      <a href="<%= products_path %>" class="btn btn-secondary mt-3">Quay lại danh sách</a>
    </div>
  </div>
</div>
